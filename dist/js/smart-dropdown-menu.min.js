!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.SmartDropdownMenu=t()}(this,function(){"use strict";var e=(function(){function e(e){this.value=e}function t(t){function n(e,t){return new Promise(function(n,i){var u={key:e,arg:t,resolve:n,reject:i,next:null};s?s=s.next=u:(r=s=u,o(e,t))})}function o(n,r){try{var s=t[n](r),u=s.value;u instanceof e?Promise.resolve(u.value).then(function(e){o("next",e)},function(e){o("throw",e)}):i(s.done?"return":"normal",s.value)}catch(e){i("throw",e)}}function i(e,t){switch(e){case"return":r.resolve({value:t,done:!0});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:!1})}r=r.next,r?o(r.key,r.arg):s=null}var r,s;this._invoke=n,"function"!=typeof t.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),t=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),n=function(){function n(t,o){e(this,n),this.el=t,this.index=o,this.el.classList.add("item"+this.index),this.el.addEventListener("mouseover",this.openSubmenu.bind(this)),this.el.addEventListener("mouseout",this.closeSubmenu.bind(this))}return t(n,[{key:"openSubmenu",value:function(){this.el.classList.add("show")}},{key:"closeSubmenu",value:function(){this.el.classList.remove("show")}}]),n}(),o=function(){function o(t){e(this,o),this.el=t,this.items=[];for(var i=document.querySelectorAll(".smart-dropdown-menu > .sdm-list > li"),r=0;r<i.length;r++)this.items.push(new n(i[r],r));this.el.addEventListener("mouseover",this.showMenu.bind(this)),this.el.addEventListener("mouseout",this.hideMenu.bind(this)),this.showMenu(),this.appendTriareaStyle(),this.hideMenu()}return t(o,[{key:"showMenu",value:function(e){this.el.classList.add("show")}},{key:"hideMenu",value:function(e){this.el.classList.remove("show")}},{key:"appendTriareaStyle",value:function(){var e=document.getElementById("smart-dropdown-menu-style");e||(e=document.createElement("style"),e.type="text/css",e.id="smart-dropdown-menu-style",document.querySelector("head").appendChild(e));var t=this.calculateTriarea();e.innerHTML=this.objectToStyle(t)}},{key:"calculateTriarea",value:function(){for(var e=this.el.querySelector("li"),t=e.offsetWidth,n=e.offsetHeight,o={},i=0;i<this.items.length;i++){this.items[i].openSubmenu();var r=Math.floor(180*Math.atan2(.5*t,n*i+n/2)/Math.PI);o[".item"+i+":before"]={height:n*i+n/2+"px",transform:"skewX(-"+r+"deg)"};var s=this.items[i].el.querySelector(".sdm-list").offsetHeight,u=s-n/2-n*i,a=Math.floor(180*Math.atan2(.5*t,u)/Math.PI);o[".item"+i+":after"]={"margin-top":"-"+n/2+"px",height:u+"px",transform:"skewX("+a+"deg)"},this.items[i].closeSubmenu()}return o}},{key:"objectToStyle",value:function(e){var t="";return Object.keys(e).forEach(function(n){t+=n+"{",Object.keys(e[n]).forEach(function(o){t+=o+": "+e[n][o]+";"}),t+="}"}),t}}]),o}();return o});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9qcy9zbWFydC1kcm9wZG93bi1tZW51LWl0ZW0uanMiLCIuLi8uLi9zcmMvanMvc21hcnQtZHJvcGRvd24tbWVudS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBTbWFydERyb3Bkb3duTWVudUl0ZW0ge1xuICBjb25zdHJ1Y3RvcihlbCwgaW5kZXgpIHtcbiAgICB0aGlzLmVsID0gZWw7XG4gICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZChgaXRlbSR7dGhpcy5pbmRleH1gKVxuXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLm9wZW5TdWJtZW51LmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLmNsb3NlU3VibWVudS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIG9wZW5TdWJtZW51KCkge1xuICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgnc2hvdycpO1xuICB9XG4gIGNsb3NlU3VibWVudSgpIHtcbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcbiAgfVxufVxuIiwiaW1wb3J0IFNtYXJ0RHJvcGRvd25NZW51SXRlbSBmcm9tICcuL3NtYXJ0LWRyb3Bkb3duLW1lbnUtaXRlbSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNtYXJ0RHJvcGRvd25NZW51IHtcbiAgY29uc3RydWN0b3Iobm9kZSkge1xuICAgIHRoaXMuZWwgPSBub2RlO1xuICAgIHRoaXMuaXRlbXMgPSBbXTtcblxuICAgIGNvbnN0IG1lbnVJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNtYXJ0LWRyb3Bkb3duLW1lbnUgPiAuc2RtLWxpc3QgPiBsaScpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVudUl0ZW0ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuaXRlbXMucHVzaChuZXcgU21hcnREcm9wZG93bk1lbnVJdGVtKG1lbnVJdGVtW2ldLCBpKSk7XG4gICAgfVxuXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLnNob3dNZW51LmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLmhpZGVNZW51LmJpbmQodGhpcykpO1xuICAgIHRoaXMuc2hvd01lbnUoKTtcbiAgICB0aGlzLmFwcGVuZFRyaWFyZWFTdHlsZSgpO1xuICAgIHRoaXMuaGlkZU1lbnUoKTtcbiAgfVxuXG4gIHNob3dNZW51KGV2ZW50KSB7XG4gICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XG4gIH1cblxuICBoaWRlTWVudShldmVudCkge1xuICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xuICB9XG5cbiAgYXBwZW5kVHJpYXJlYVN0eWxlKCkge1xuICAgIC8vIDxzdHlsZT4gZm9yIHRyaWFyZWFcbiAgICBsZXQgc3R5bGVUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc21hcnQtZHJvcGRvd24tbWVudS1zdHlsZScpO1xuICAgIGlmICghc3R5bGVUYWcpIHtcbiAgICAgIHN0eWxlVGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgIHN0eWxlVGFnLnR5cGUgPSAndGV4dC9jc3MnO1xuICAgICAgc3R5bGVUYWcuaWQgPSAnc21hcnQtZHJvcGRvd24tbWVudS1zdHlsZSc7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkJykuYXBwZW5kQ2hpbGQoc3R5bGVUYWcpO1xuICAgIH1cbiAgICBjb25zdCBzdHlsZU9iaiA9IHRoaXMuY2FsY3VsYXRlVHJpYXJlYSgpO1xuICAgIHN0eWxlVGFnLmlubmVySFRNTCA9IHRoaXMub2JqZWN0VG9TdHlsZShzdHlsZU9iaik7XG4gIH1cblxuICBjYWxjdWxhdGVUcmlhcmVhKCkge1xuICAgIC8vIFwidHJpYXJlYVwiIGV4dGVuZCBob3ZlciBhcmVhIG9mIG1lbnUgZm9yIG1vdXNlIGN1cnNvcidzIGRpYWdvbmFsIG1vdmVtZW50XG4gICAgY29uc3QgbWVudUxpc3RTdWIgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2xpJyk7XG4gICAgY29uc3QgbWVudUl0ZW1XaWR0aCA9IG1lbnVMaXN0U3ViLm9mZnNldFdpZHRoO1xuICAgIGNvbnN0IG1lbnVJdGVtSGVpZ2h0ID0gbWVudUxpc3RTdWIub2Zmc2V0SGVpZ2h0O1xuICAgIGxldCB0cmlhcmVhU3R5bGVPYmogPSB7fTtcblxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLml0ZW1zW2ldLm9wZW5TdWJtZW51KCk7XG5cbiAgICAgIC8vIGNhbGMgYW5nbGUgb2YgZWxldmF0aW9uXG4gICAgICBjb25zdCBlbGV2YXRpb24gPSBNYXRoLmZsb29yKE1hdGguYXRhbjIobWVudUl0ZW1XaWR0aCAqIDAuNSwgbWVudUl0ZW1IZWlnaHQgKiBpICsgbWVudUl0ZW1IZWlnaHQgLyAyKSAqIDE4MCAvIE1hdGguUEkpO1xuICAgICAgdHJpYXJlYVN0eWxlT2JqW2AuaXRlbSR7aX06YmVmb3JlYF0gPSB7XG4gICAgICAgICdoZWlnaHQnOiBgJHttZW51SXRlbUhlaWdodCAqIGkgKyBtZW51SXRlbUhlaWdodCAvIDJ9cHhgLFxuICAgICAgICAndHJhbnNmb3JtJzogYHNrZXdYKC0ke2VsZXZhdGlvbn1kZWcpYCxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHN1Ym1lbnVIZWlnaHQgPSB0aGlzLml0ZW1zW2ldLmVsLnF1ZXJ5U2VsZWN0b3IoJy5zZG0tbGlzdCcpLm9mZnNldEhlaWdodDtcbiAgICAgIGNvbnN0IGhlaWdodCA9IChzdWJtZW51SGVpZ2h0IC0gbWVudUl0ZW1IZWlnaHQgLyAyKSAtIG1lbnVJdGVtSGVpZ2h0ICogaTtcbiAgICAgIC8vIGNhbGMgYW5nbGUgb2YgZGVwcmVzc2lvblxuICAgICAgY29uc3QgZGVwcmVzc2lvbiA9IE1hdGguZmxvb3IoTWF0aC5hdGFuMihtZW51SXRlbVdpZHRoICogMC41LCBoZWlnaHQpICogMTgwIC8gTWF0aC5QSSk7XG4gICAgICB0cmlhcmVhU3R5bGVPYmpbYC5pdGVtJHtpfTphZnRlcmBdID0ge1xuICAgICAgICAnbWFyZ2luLXRvcCc6IGAtJHttZW51SXRlbUhlaWdodCAvIDJ9cHhgLFxuICAgICAgICAnaGVpZ2h0JzogYCR7aGVpZ2h0fXB4YCxcbiAgICAgICAgJ3RyYW5zZm9ybSc6IGBza2V3WCgke2RlcHJlc3Npb259ZGVnKWAsXG4gICAgICB9O1xuXG4gICAgICB0aGlzLml0ZW1zW2ldLmNsb3NlU3VibWVudSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0cmlhcmVhU3R5bGVPYmo7XG4gIH1cblxuICBvYmplY3RUb1N0eWxlKG9iaikge1xuICAgIGxldCBzdHlsZVRleHQgPSAnJztcbiAgICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goKHNlbGVjdG9yKSA9PiB7XG4gICAgICBzdHlsZVRleHQgKz0gc2VsZWN0b3IgKyAneyc7XG4gICAgICBPYmplY3Qua2V5cyhvYmpbc2VsZWN0b3JdKS5mb3JFYWNoKChwcm9wZXJ0eSkgPT4ge1xuICAgICAgICBzdHlsZVRleHQgKz0gYCR7cHJvcGVydHl9OiAke29ialtzZWxlY3Rvcl1bcHJvcGVydHldfTtgO1xuICAgICAgfSk7XG4gICAgICBzdHlsZVRleHQgKz0gJ30nO1xuICAgIH0pO1xuICAgIHJldHVybiBzdHlsZVRleHQ7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJTbWFydERyb3Bkb3duTWVudUl0ZW0iLCJlbCIsImluZGV4IiwiY2xhc3NMaXN0IiwiYWRkIiwidGhpcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJvcGVuU3VibWVudSIsImJpbmQiLCJjbG9zZVN1Ym1lbnUiLCJyZW1vdmUiLCJTbWFydERyb3Bkb3duTWVudSIsIm5vZGUiLCJpdGVtcyIsIm1lbnVJdGVtIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaSIsImxlbmd0aCIsInB1c2giLCJzaG93TWVudSIsImhpZGVNZW51IiwiYXBwZW5kVHJpYXJlYVN0eWxlIiwiZXZlbnQiLCJzdHlsZVRhZyIsImdldEVsZW1lbnRCeUlkIiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJpZCIsInF1ZXJ5U2VsZWN0b3IiLCJhcHBlbmRDaGlsZCIsInN0eWxlT2JqIiwiY2FsY3VsYXRlVHJpYXJlYSIsImlubmVySFRNTCIsIm9iamVjdFRvU3R5bGUiLCJtZW51TGlzdFN1YiIsIm1lbnVJdGVtV2lkdGgiLCJvZmZzZXRXaWR0aCIsIm1lbnVJdGVtSGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwidHJpYXJlYVN0eWxlT2JqIiwiZWxldmF0aW9uIiwiTWF0aCIsImZsb29yIiwiYXRhbjIiLCJQSSIsInN1Ym1lbnVIZWlnaHQiLCJoZWlnaHQiLCJkZXByZXNzaW9uIiwib2JqIiwic3R5bGVUZXh0Iiwia2V5cyIsImZvckVhY2giLCJzZWxlY3RvciIsInByb3BlcnR5Il0sIm1hcHBpbmdzIjoiMGlEQUFxQkEsd0JBQ1BDLEVBQUlDLGtCQUNURCxHQUFLQSxPQUNMQyxNQUFRQSxPQUNSRCxHQUFHRSxVQUFVQyxXQUFXQyxLQUFLSCxZQUU3QkQsR0FBR0ssaUJBQWlCLFlBQWFELEtBQUtFLFlBQVlDLEtBQUtILFlBQ3ZESixHQUFHSyxpQkFBaUIsV0FBWUQsS0FBS0ksYUFBYUQsS0FBS0gsNERBSXZESixHQUFHRSxVQUFVQyxJQUFJLG9EQUdqQkgsR0FBR0UsVUFBVU8sT0FBTyxpQkNaUkMsd0JBQ1BDLGtCQUNMWCxHQUFLVyxPQUNMQyxhQUdBLEdBRENDLEdBQVdDLFNBQVNDLGlCQUFpQix5Q0FDbENDLEVBQUksRUFBR0EsRUFBSUgsRUFBU0ksT0FBUUQsU0FDOUJKLE1BQU1NLEtBQUssR0FBSW5CLEdBQXNCYyxFQUFTRyxHQUFJQSxTQUdwRGhCLEdBQUdLLGlCQUFpQixZQUFhRCxLQUFLZSxTQUFTWixLQUFLSCxZQUNwREosR0FBR0ssaUJBQWlCLFdBQVlELEtBQUtnQixTQUFTYixLQUFLSCxZQUNuRGUsZ0JBQ0FFLDBCQUNBRCxzREFHRUUsUUFDRnRCLEdBQUdFLFVBQVVDLElBQUkseUNBR2ZtQixRQUNGdEIsR0FBR0UsVUFBVU8sT0FBTyx3REFLckJjLEdBQVdULFNBQVNVLGVBQWUsNEJBQ2xDRCxPQUNRVCxTQUFTVyxjQUFjLFdBQ3pCQyxLQUFPLGFBQ1BDLEdBQUsscUNBQ0xDLGNBQWMsUUFBUUMsWUFBWU4sT0FFdkNPLEdBQVcxQixLQUFLMkIscUJBQ2JDLFVBQVk1QixLQUFLNkIsY0FBY0gsa0RBVXBDLEdBTEVJLEdBQWM5QixLQUFLSixHQUFHNEIsY0FBYyxNQUNwQ08sRUFBZ0JELEVBQVlFLFlBQzVCQyxFQUFpQkgsRUFBWUksYUFDL0JDLEtBRUl2QixFQUFJLEVBQUdBLEVBQUlaLEtBQUtRLE1BQU1LLE9BQVFELElBQUssTUFDcENKLE1BQU1JLEdBQUdWLGlCQUdSa0MsR0FBWUMsS0FBS0MsTUFBaUYsSUFBM0VELEtBQUtFLE1BQXNCLEdBQWhCUixFQUFxQkUsRUFBaUJyQixFQUFJcUIsRUFBaUIsR0FBV0ksS0FBS0csY0FDM0Y1QixxQkFDVHFCLEVBQWlCckIsRUFBSXFCLEVBQWlCLDJCQUM1QkcsYUFHbkJLLEdBQWdCekMsS0FBS1EsTUFBTUksR0FBR2hCLEdBQUc0QixjQUFjLGFBQWFVLGFBQzVEUSxFQUFVRCxFQUFnQlIsRUFBaUIsRUFBS0EsRUFBaUJyQixFQUVqRStCLEVBQWFOLEtBQUtDLE1BQWdELElBQTFDRCxLQUFLRSxNQUFzQixHQUFoQlIsRUFBcUJXLEdBQWdCTCxLQUFLRyxjQUMzRDVCLDhCQUNKcUIsRUFBaUIsY0FDdEJTLDBCQUNTQyxlQUduQm5DLE1BQU1JLEdBQUdSLHFCQUdUK0IseUNBR0tTLE1BQ1JDLEdBQVksaUJBQ1RDLEtBQUtGLEdBQUtHLFFBQVEsU0FBQ0MsTUFDWEEsRUFBVyxXQUNqQkYsS0FBS0YsRUFBSUksSUFBV0QsUUFBUSxTQUFDRSxNQUNsQkEsT0FBYUwsRUFBSUksR0FBVUMsWUFFaEMsTUFFUkoifQ==
